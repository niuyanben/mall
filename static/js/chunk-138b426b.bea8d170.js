(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-138b426b"],{"02f4":function(t,e,n){var r=n("4588"),a=n("be13");t.exports=function(t){return function(e,n){var i,c,o=String(a(e)),s=r(n),u=o.length;return s<0||s>=u?t?"":void 0:(i=o.charCodeAt(s),i<55296||i>56319||s+1===u||(c=o.charCodeAt(s+1))<56320||c>57343?t?o.charAt(s):i:t?o.slice(s,s+2):c-56320+(i-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"0a26":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("ad06"),a=n("78eb"),i=n("9884"),c=n("ea8e"),o=function(t){var e=t.parent,n=t.bem,o=t.role;return{mixins:[Object(i["a"])(e),a["a"]],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},direction:function(){return this.parent&&this.parent.direction||null},iconStyle:function(){var t=this.checkedColor||this.parent&&this.parent.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}},tabindex:function(){return this.isDisabled||"radio"===o&&!this.checked?-1:0}},methods:{onClick:function(t){var e=this,n=t.target,r=this.$refs.icon,a=r===n||r.contains(n);this.isDisabled||!a&&this.labelDisabled?this.$emit("click",t):(this.toggle(),setTimeout((function(){e.$emit("click",t)})))},genIcon:function(){var t=this.$createElement,e=this.checked,a=this.iconSize||this.parent&&this.parent.iconSize;return t("div",{ref:"icon",class:n("icon",[this.shape,{disabled:this.isDisabled,checked:e}]),style:{fontSize:Object(c["a"])(a)}},[this.slots("icon",{checked:e})||t(r["a"],{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var t=this.$createElement,e=this.slots();if(e)return t("span",{class:n("label",[this.labelPosition,{disabled:this.isDisabled}])},[e])}},render:function(){var t=arguments[0],e=[this.genIcon()];return"left"===this.labelPosition?e.unshift(this.genLabel()):e.push(this.genLabel()),t("div",{attrs:{role:o,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:n([{disabled:this.isDisabled,"label-disabled":this.labelDisabled},this.direction]),on:{click:this.onClick}},[e])}}}},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),a=n("32e9"),i=n("79e5"),c=n("be13"),o=n("2b4c"),s=n("520a"),u=o("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=o(t),p=!i((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),f=p?!i((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[h](""),!e})):void 0;if(!p||!f||"replace"===t&&!l||"split"===t&&!d){var v=/./[h],g=n(c,h,""[t],(function(t,e,n,r,a){return e.exec===s?p&&!a?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),b=g[0],m=g[1];r(String.prototype,t,b),a(RegExp.prototype,h,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},3852:function(t,e,n){var r=n("96f3"),a=n("e2c0");function i(t,e){return null!=t&&a(t,e,r)}t.exports=i},"4e50":function(t,e,n){t.exports=n.p+"static/img/wx_pay.2731abb7.png"},"520a":function(t,e,n){"use strict";var r=n("0bfb"),a=RegExp.prototype.exec,i=String.prototype.replace,c=a,o="lastIndex",s=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[o]||0!==e[o]}(),u=void 0!==/()??/.exec("")[1],l=s||u;l&&(c=function(t){var e,n,c,l,d=this;return u&&(n=new RegExp("^"+d.source+"$(?!\\s)",r.call(d))),s&&(e=d[o]),c=a.call(d,t),s&&c&&(d[o]=d.global?c.index+c[0].length:e),u&&c&&c.length>1&&i.call(c[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(c[l]=void 0)})),c}),t.exports=c},"5eca":function(t,e,n){"use strict";var r=n("6874"),a=n.n(r);a.a},"5f1b":function(t,e,n){"use strict";var r=n("23c6"),a=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},6874:function(t,e,n){},"78eb":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={inject:{vanField:{default:null}},watch:{value:function(){var t=this.vanField;t&&(t.resetValidation(),t.validateWithTrigger("onChange"))}},created:function(){var t=this.vanField;t&&!t.children&&(t.children=this)}}},8812:function(t,e,n){"use strict";n.r(e);var r,a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"payment"},[t._m(0),r("van-cell-group",{staticClass:"payment_group"},[r("van-cell",{attrs:{title:"订单编号",value:t.order.orderInfo.orderSn}}),r("van-cell",{attrs:{title:"实付金额"}},[r("span",{staticClass:"red"},[t._v(t._s(t._f("yuan")(100*t.order.orderInfo.actualPrice)))])])],1),r("div",{staticClass:"pay_way_group"},[r("div",{staticClass:"pay_way_title"},[t._v("选择支付方式")]),r("van-radio-group",{model:{value:t.payWay,callback:function(e){t.payWay=e},expression:"payWay"}},[r("van-cell-group",[r("van-cell",[r("template",{slot:"title"},[r("img",{attrs:{src:n("d179"),alt:"支付宝",width:"82",height:"29"}})]),r("van-radio",{attrs:{name:"ali"}})],2),r("van-cell",[r("template",{slot:"title"},[r("img",{attrs:{src:n("4e50"),alt:"微信支付",width:"113",height:"23"}})]),r("van-radio",{attrs:{name:"wx"}})],2)],1)],1)],1),r("van-button",{staticClass:"pay_submit",attrs:{type:"primary",bottomAction:""},on:{click:t.pay}},[t._v("去支付")])],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"time_down payment_group"},[t._v("\n    请在\n    "),n("span",{staticClass:"red"},[t._v("半小时内")]),t._v("\n    完成付款，否则系统自动取消订单\n  ")])}],c=n("bd86"),o=(n("68ef"),n("dc1b"),n("e27c")),s=(n("7f7f"),n("9d70"),n("3743"),n("dde9"),n("9f14")),u=(n("a481"),n("e17f"),n("2241")),l=n("3852"),d=n.n(l),h=n("4ec3"),p=n("3c96"),f={name:"payment",data:function(){return{payWay:"wx",order:{orderInfo:{},orderGoods:[]},orderId:0}},created:function(){d()(this.$route.params,"orderId")&&(this.orderId=this.$route.params.orderId,this.getOrder(this.orderId))},methods:{getOrder:function(t){var e=this;Object(h["O"])({orderId:t}).then((function(t){e.order=t.data.data}))},pay:function(){var t=this;u["a"].alert({message:"你选择了"+("wx"===this.payWay?"微信支付":"支付宝支付")}).then((function(){if("wx"===t.payWay){var e=navigator.userAgent.toLowerCase(),n=-1!=e.indexOf("micromessenger");n?Object(h["R"])({orderId:t.orderId}).then((function(e){var n=e.data.data,r=JSON.stringify({appId:n.appId,timeStamp:n.timeStamp,nonceStr:n.nonceStr,package:n.packageValue,signType:"MD5",paySign:n.paySign});Object(p["c"])({prepay_data:r}),"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",t.onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",t.onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",t.onBridgeReady)):t.onBridgeReady()})).catch((function(t){u["a"].alert({message:t.data.errmsg}),that.$router.replace({name:"paymentStatus",params:{status:"failed"}})})):Object(h["P"])({orderId:t.orderId}).then((function(e){var n=e.data.data;window.location.replace(n.mwebUrl+"&redirect_url="+encodeURIComponent(window.location.origin+"/#/?orderId="+t.orderId+"&tip=yes"))})).catch((function(t){u["a"].alert({message:t.data.errmsg})}))}}))},onBridgeReady:function(){var t=this,e=Object(p["a"])("prepay_data");WeixinJSBridge.invoke("getBrandWCPayRequest",JSON.parse(e.prepay_data),(function(e){"get_brand_wcpay_request:ok"==e.err_msg?t.$router.replace({name:"paymentStatus",params:{status:"success"}}):"get_brand_wcpay_request:cancel"==e.err_msg?t.$router.replace({name:"paymentStatus",params:{status:"cancel"}}):t.$router.replace({name:"paymentStatus",params:{status:"failed"}})}))}},components:(r={},Object(c["a"])(r,s["a"].name,s["a"]),Object(c["a"])(r,o["a"].name,o["a"]),Object(c["a"])(r,u["a"].name,u["a"]),r)},v=f,g=(n("5eca"),n("2877")),b=Object(g["a"])(v,a,i,!1,null,"69f6685c",null);e["default"]=b.exports},"96f3":function(t,e){var n=Object.prototype,r=n.hasOwnProperty;function a(t,e){return null!=t&&r.call(t,e)}t.exports=a},9884:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return o}));var r=n("2b0e");function a(t){var e=[];function n(t){t.forEach((function(t){e.push(t),t.componentInstance&&n(t.componentInstance.$children.map((function(t){return t.$vnode}))),t.children&&n(t.children)}))}return n(t),e}function i(t,e){var n=e.$vnode.componentOptions;if(n&&n.children){var r=a(n.children);t.sort((function(t,e){return r.indexOf(t.$vnode)-r.indexOf(e.$vnode)}))}}function c(t,e){var n,a;void 0===e&&(e={});var c=e.indexKey||"index";return r["a"].extend({inject:(n={},n[t]={default:null},n),computed:(a={parent:function(){return this.disableBindRelation?null:this[t]}},a[c]=function(){return this.bindRelation(),this.parent?this.parent.children.indexOf(this):null},a),mounted:function(){this.bindRelation()},beforeDestroy:function(){var t=this;this.parent&&(this.parent.children=this.parent.children.filter((function(e){return e!==t})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var t=[].concat(this.parent.children,[this]);i(t,this.parent),this.parent.children=t}}}})}function o(t){return{provide:function(){var e;return e={},e[t]=this,e},data:function(){return{children:[]}}}}},"9f14":function(t,e,n){"use strict";var r=n("d282"),a=n("0a26"),i=Object(r["a"])("radio"),c=i[0],o=i[1];e["a"]=c({mixins:[Object(a["a"])({bem:o,role:"radio",parent:"vanRadio"})],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(t){(this.parent||this).$emit("input",t)}},checked:function(){return this.currentValue===this.name}},methods:{toggle:function(){this.currentValue=this.name}}})},a481:function(t,e,n){"use strict";var r=n("cb7c"),a=n("4bf8"),i=n("9def"),c=n("4588"),o=n("0390"),s=n("5f1b"),u=Math.max,l=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,(function(t,e,n,v){return[function(r,a){var i=t(this),c=void 0==r?void 0:r[e];return void 0!==c?c.call(r,i,a):n.call(String(i),r,a)},function(t,e){var a=v(n,t,this,e);if(a.done)return a.value;var d=r(t),h=String(this),p="function"===typeof e;p||(e=String(e));var b=d.global;if(b){var m=d.unicode;d.lastIndex=0}var y=[];while(1){var x=s(d,h);if(null===x)break;if(y.push(x),!b)break;var S=String(x[0]);""===S&&(d.lastIndex=o(h,i(d.lastIndex),m))}for(var _="",w=0,k=0;k<y.length;k++){x=y[k];for(var O=String(x[0]),$=u(l(c(x.index),h.length),0),I=[],R=1;R<x.length;R++)I.push(f(x[R]));var C=x.groups;if(p){var j=[O].concat(I,$,h);void 0!==C&&j.push(C);var E=String(e.apply(void 0,j))}else E=g(O,h,$,I,C,e);$>=w&&(_+=h.slice(w,$)+E,w=$+O.length)}return _+h.slice(w)}];function g(t,e,r,i,c,o){var s=r+t.length,u=i.length,l=p;return void 0!==c&&(c=a(c),l=h),n.call(o,l,(function(n,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(s);case"<":o=c[a.slice(1,-1)];break;default:var l=+a;if(0===l)return n;if(l>u){var h=d(l/10);return 0===h?n:h<=u?void 0===i[h-1]?a.charAt(1):i[h-1]+a.charAt(1):n}o=i[l-1]}return void 0===o?"":o}))}}))},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},d179:function(t,e,n){t.exports=n.p+"static/img/ali_pay.41a79780.png"},dc1b:function(t,e,n){},dde9:function(t,e,n){},e27c:function(t,e,n){"use strict";var r=n("d282"),a=n("78eb"),i=n("9884"),c=Object(r["a"])("radio-group"),o=c[0],s=c[1];e["a"]=o({mixins:[Object(i["b"])("vanRadio"),a["a"]],props:{value:null,disabled:Boolean,direction:String,checkedColor:String,iconSize:[Number,String]},watch:{value:function(t){this.$emit("change",t)}},render:function(){var t=arguments[0];return t("div",{class:s([this.direction]),attrs:{role:"radiogroup"}},[this.slots()])}})}}]);